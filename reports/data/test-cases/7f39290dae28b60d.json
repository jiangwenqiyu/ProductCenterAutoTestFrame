{
  "uid" : "7f39290dae28b60d",
  "name" : "品牌提交",
  "fullName" : "testFunctions.test_basicQuery.TestBasicQuery#test_query",
  "historyId" : "9effe1daaa06f8d6183036bc866bc285",
  "time" : {
    "start" : 1642495725528,
    "stop" : 1642495727653,
    "duration" : 2125
  },
  "status" : "failed",
  "statusMessage" : "AssertionError: assert '2' == '1'\n  - 1\n  + 2",
  "statusTrace" : "self = <testFunctions.test_basicQuery.TestBasicQuery object at 0x0000025E272E0BE0>\ninfo = {'data': {'brandEnName': 'GBBZ', 'brandName': '丐帮帮主', 'brandState': '1', 'factoryBrandEnName': 'GBBZ', ...}, 'header':...ion/json;charset=UTF-8', 'cookie': 'uc_token=e957c609b1554018ae97fe1dc86e9cf1'}, 'method': 'POST', 'name': '品牌提交', ...}\n\n    @allure.story('测试接口集')\n    @pytest.mark.parametrize('info', DealTest().getCases(**getDbInfo()))\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_query(self, info):\n        time.sleep(1)\n        Dynamic.title(info['name'])\n    \n        method = info['method'].lower()\n        url = productEnvConfig.host + info['path']\n        header = info['header']\n        header['cookie'] = f'uc_token={productEnvConfig.token}'\n        reqType = info['reqType']\n        if reqType == 'json':\n            data = json.dumps(info['data'])\n        else:\n            data = info['data']\n        param = info['param']\n    \n    \n        with allure.step('请求地址:{}\\n'.format(url)):\n            pass\n        with allure.step('请求参数:data:{}\\nparam:{}\\n'.format(data, param)):\n            pass\n        with allure.step('请求头:{}\\n'.format(header)):\n            res = self.requests.request(method, url, header, data = data, params = param)\n    \n        with allure.step('返回参数:{}'.format(res.text)):\n            self.requests.myLog.debug('返回值: {}'.format(res.text))\n            assert res.status_code == 200\n>           assert res.json()['retStatus'] == '1'\nE           AssertionError: assert '2' == '1'\nE             - 1\nE             + 2\n\ntestFunctions\\test_basicQuery.py:59: AssertionError",
  "flaky" : true,
  "beforeStages" : [ ],
  "testStage" : {
    "status" : "failed",
    "statusMessage" : "AssertionError: assert '2' == '1'\n  - 1\n  + 2",
    "statusTrace" : "self = <testFunctions.test_basicQuery.TestBasicQuery object at 0x0000025E272E0BE0>\ninfo = {'data': {'brandEnName': 'GBBZ', 'brandName': '丐帮帮主', 'brandState': '1', 'factoryBrandEnName': 'GBBZ', ...}, 'header':...ion/json;charset=UTF-8', 'cookie': 'uc_token=e957c609b1554018ae97fe1dc86e9cf1'}, 'method': 'POST', 'name': '品牌提交', ...}\n\n    @allure.story('测试接口集')\n    @pytest.mark.parametrize('info', DealTest().getCases(**getDbInfo()))\n    @pytest.mark.flaky(reruns=2, reruns_delay=2)\n    def test_query(self, info):\n        time.sleep(1)\n        Dynamic.title(info['name'])\n    \n        method = info['method'].lower()\n        url = productEnvConfig.host + info['path']\n        header = info['header']\n        header['cookie'] = f'uc_token={productEnvConfig.token}'\n        reqType = info['reqType']\n        if reqType == 'json':\n            data = json.dumps(info['data'])\n        else:\n            data = info['data']\n        param = info['param']\n    \n    \n        with allure.step('请求地址:{}\\n'.format(url)):\n            pass\n        with allure.step('请求参数:data:{}\\nparam:{}\\n'.format(data, param)):\n            pass\n        with allure.step('请求头:{}\\n'.format(header)):\n            res = self.requests.request(method, url, header, data = data, params = param)\n    \n        with allure.step('返回参数:{}'.format(res.text)):\n            self.requests.myLog.debug('返回值: {}'.format(res.text))\n            assert res.status_code == 200\n>           assert res.json()['retStatus'] == '1'\nE           AssertionError: assert '2' == '1'\nE             - 1\nE             + 2\n\ntestFunctions\\test_basicQuery.py:59: AssertionError",
    "steps" : [ {
      "name" : "请求地址:http://product.pre.xinfangsheng.com/sysback/productbrand/productbrandaudit/updateProductBrand\n",
      "time" : {
        "start" : 1642495726542,
        "stop" : 1642495726542,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : false,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false
    }, {
      "name" : "请求参数:data:{\"note\": \"\", \"uuid\": \"2100006583\", \"series\": \"\", \"brandName\": \"\\u4e10\\u5e2e\\u5e2e\\u4e3b\", \"imageKey1\": \"\", \"imageKey2\": \"\", \"brandState\": \"1\", \"parentName\": null, \"parentUuid\": \"\", \"brandEnName\": \"GBBZ\", \"factoryLogo\": \"\", \"insideLevel\": \"1\", \"outsideLevel\": \"1\", \"factoryBrandName\": \"\\u4e10\\u5e2e\\u5e2e\\u4e3b\", \"factoryBrandEnName\": \"GBBZ\", \"factoryInfluenceMore\": \"2\"}\nparam:{'menuId': '206', 'buttonId': '3'}\n",
      "time" : {
        "start" : 1642495726542,
        "stop" : 1642495726542,
        "duration" : 0
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : false,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false
    }, {
      "name" : "请求头:{'Accept': 'application/json, text/plain, */*', 'Content-Type': 'application/json;charset=UTF-8', 'cookie': 'uc_token=e957c609b1554018ae97fe1dc86e9cf1'}\n",
      "time" : {
        "start" : 1642495726542,
        "stop" : 1642495727650,
        "duration" : 1108
      },
      "status" : "passed",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : false,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : false
    }, {
      "name" : "返回参数:{\"retStatus\":\"2\",\"retMessage\":\"该品牌已经在审核中，不能修改\",\"retData\":null,\"timestamp\":0}",
      "time" : {
        "start" : 1642495727651,
        "stop" : 1642495727652,
        "duration" : 1
      },
      "status" : "failed",
      "statusMessage" : "AssertionError: assert '2' == '1'\n  - 1\n  + 2\n",
      "statusTrace" : "  File \"F:\\MyProject\\PythonProject\\Work\\xfs\\商品中心\\ProductCenterAutoTestFrame\\testFunctions\\test_basicQuery.py\", line 59, in test_query\n    assert res.json()['retStatus'] == '1'\n",
      "steps" : [ ],
      "attachments" : [ ],
      "parameters" : [ ],
      "stepsCount" : 0,
      "hasContent" : true,
      "attachmentsCount" : 0,
      "shouldDisplayMessage" : true
    } ],
    "attachments" : [ ],
    "parameters" : [ ],
    "stepsCount" : 4,
    "hasContent" : true,
    "attachmentsCount" : 0,
    "shouldDisplayMessage" : true
  },
  "afterStages" : [ ],
  "labels" : [ {
    "name" : "story",
    "value" : "测试接口集"
  }, {
    "name" : "feature",
    "value" : "基础接口探活测试"
  }, {
    "name" : "tag",
    "value" : "flaky(reruns=2, reruns_delay=2)"
  }, {
    "name" : "parentSuite",
    "value" : "testFunctions"
  }, {
    "name" : "suite",
    "value" : "test_basicQuery"
  }, {
    "name" : "subSuite",
    "value" : "TestBasicQuery"
  }, {
    "name" : "host",
    "value" : "XTZJ-20211021CS"
  }, {
    "name" : "thread",
    "value" : "6520-MainThread"
  }, {
    "name" : "framework",
    "value" : "pytest"
  }, {
    "name" : "language",
    "value" : "cpython3"
  }, {
    "name" : "package",
    "value" : "testFunctions.test_basicQuery"
  }, {
    "name" : "resultFormat",
    "value" : "allure2"
  } ],
  "parameters" : [ ],
  "links" : [ ],
  "hidden" : false,
  "retry" : false,
  "extra" : {
    "severity" : "normal",
    "retries" : [ {
      "uid" : "9be6b1f574a4dbac",
      "status" : "failed",
      "statusDetails" : "AssertionError: assert '2' == '1'\n  - 1\n  + 2",
      "time" : {
        "start" : 1642495722412,
        "stop" : 1642495723508,
        "duration" : 1096
      }
    }, {
      "uid" : "fc190a38b8a2d9a7",
      "status" : "failed",
      "statusDetails" : "AssertionError: assert '2' == '1'\n  - 1\n  + 2",
      "time" : {
        "start" : 1642495719266,
        "stop" : 1642495720398,
        "duration" : 1132
      }
    } ],
    "categories" : [ {
      "name" : "Product defects",
      "matchedStatuses" : [ ],
      "flaky" : false
    } ],
    "tags" : [ "flaky(reruns=2, reruns_delay=2)" ]
  },
  "source" : "7f39290dae28b60d.json",
  "parameterValues" : [ ]
}